{% extends "base.html" %}
{% load static %}

{% block content %}
    <body class="bg-light">
        <main class="container">
            <div class="my-3 p-3 bg-body rounded shadow-sm">
                <h6 class="border-bottom pb-2 mb-0">Recent posts</h6>
                {% for post in posts_recent %}
                    <div class="d-flex text-muted pt-3">
                        <a href="{{ post.user.get_user_url }}">
                            <img src="{{ post.user.photo.url }}" alt="user" class="profile-photo-md pull-left me-2 avatar-feed">
                        </a>
                        <div class="pb-3 mb-0 small lh-sm border-bottom w-100">
                            <a href="{{ post.user.get_user_url }}" style="text-decoration: none;">@{{ post.user.username }}</a><span>. {{ post.created|timesince }} ago</span>
                            <div class="d-flex justify-content-between"></div>
                            <a type="button" href="{% url 'blog-post-detail' id=post.id %}" style="width: 100%; text-decoration: none;">
                                <div class="d-flex justify-content-between" style="padding: 4px 4px 4px 0;">
                                    <strong class="text-dark">{{ post.content|linebreaksbr }}</strong>
                                </div>
                            </a>
                        </div>
                    </div>

                    <div class="d-flex text-muted pt-3">
                        <a href="{{ post.user.get_user_url }}">
                            <img src="{{ post.user.photo.url }}" alt="user" class="profile-photo-md pull-left me-2 avatar-feed">
                        </a>
                        <div class="pb-3 mb-0 small lh-sm border-bottom w-100">
                            <a href="{{ post.user.get_user_url }}" style="text-decoration: none;">@{{ post.user.username }}</a><span>. {{ post.created|date:"j N P" }}</span>
                            <div class="d-flex justify-content-between"></div>
                            <a type="button" href="{% url 'blog-post-detail' id=post.id %}" style="width: 100%; text-decoration: none;">
                                <div class="d-flex justify-content-between" style="padding: 4px 4px 4px 0;">
                                    <strong class="text-dark">{{ post.content|linebreaksbr }}</strong>
                                </div>
                            </a>
                        </div>
                    </div>
                {% endfor %}

                <small class="d-block text-end mt-3">
                    <a href="{% url 'blog-feed' %}">All posts</a>
                </small>
            </div>
        </main>
    </body>
{% endblock content %}